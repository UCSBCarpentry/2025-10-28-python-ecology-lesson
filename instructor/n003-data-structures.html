<!DOCTYPE html>
<!-- START: inst/pkgdown/templates/layout.html --><!-- Generated by pkgdown: do not edit by hand --><html lang="en" data-bs-theme="auto"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><title>Data Analysis and Visualization in Python for Ecologists: Exploring and understanding data</title><meta name="viewport" content="width=device-width, initial-scale=1"><script src="../assets/themetoggle.js"></script><link rel="stylesheet" type="text/css" href="../assets/styles.css"><script src="../assets/scripts.js" type="text/javascript"></script><!-- mathjax --><script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      config: ["MMLorHTML.js"],
      jax: ["input/TeX","input/MathML","output/HTML-CSS","output/NativeMML", "output/PreviewHTML"],
      extensions: ["tex2jax.js","mml2jax.js","MathMenu.js","MathZoom.js", "fast-preview.js", "AssistiveMML.js", "a11y/accessibility-menu.js"],
      TeX: {
        extensions: ["AMSmath.js","AMSsymbols.js","noErrors.js","noUndefined.js"]
      },
      tex2jax: {
        inlineMath: [['\\(', '\\)']],
        displayMath: [ ['$$','$$'], ['\\[', '\\]'] ],
        processEscapes: true
      }
    });
    </script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><!-- Responsive Favicon for The Carpentries --><link rel="apple-touch-icon" sizes="180x180" href="../favicons/dc/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicons/dc/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="../favicons/dc/favicon-16x16.png"><link rel="manifest" href="../favicons/dc/site.webmanifest"><link rel="mask-icon" href="../favicons/dc/safari-pinned-tab.svg" color="#5bbad5"><meta name="msapplication-TileColor" content="#da532c"><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"><meta name="theme-color" media="(prefers-color-scheme: dark)" content="black"></head><body>
    <header id="top" class="navbar navbar-expand-md top-nav data"><svg xmlns="http://www.w3.org/2000/svg" class="d-none"><symbol id="check2" viewbox="0 0 16 16"><path d="M13.854 3.646a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L6.5 10.293l6.646-6.647a.5.5 0 0 1 .708 0z"></path></symbol><symbol id="circle-half" viewbox="0 0 16 16"><path d="M8 15A7 7 0 1 0 8 1v14zm0 1A8 8 0 1 1 8 0a8 8 0 0 1 0 16z"></path></symbol><symbol id="moon-stars-fill" viewbox="0 0 16 16"><path d="M6 .278a.768.768 0 0 1 .08.858 7.208 7.208 0 0 0-.878 3.46c0 4.021 3.278 7.277 7.318 7.277.527 0 1.04-.055 1.533-.16a.787.787 0 0 1 .81.316.733.733 0 0 1-.031.893A8.349 8.349 0 0 1 8.344 16C3.734 16 0 12.286 0 7.71 0 4.266 2.114 1.312 5.124.06A.752.752 0 0 1 6 .278z"></path><path d="M10.794 3.148a.217.217 0 0 1 .412 0l.387 1.162c.173.518.579.924 1.097 1.097l1.162.387a.217.217 0 0 1 0 .412l-1.162.387a1.734 1.734 0 0 0-1.097 1.097l-.387 1.162a.217.217 0 0 1-.412 0l-.387-1.162A1.734 1.734 0 0 0 9.31 6.593l-1.162-.387a.217.217 0 0 1 0-.412l1.162-.387a1.734 1.734 0 0 0 1.097-1.097l.387-1.162zM13.863.099a.145.145 0 0 1 .274 0l.258.774c.115.346.386.617.732.732l.774.258a.145.145 0 0 1 0 .274l-.774.258a1.156 1.156 0 0 0-.732.732l-.258.774a.145.145 0 0 1-.274 0l-.258-.774a1.156 1.156 0 0 0-.732-.732l-.774-.258a.145.145 0 0 1 0-.274l.774-.258c.346-.115.617-.386.732-.732L13.863.1z"></path></symbol><symbol id="sun-fill" viewbox="0 0 16 16"><path d="M8 12a4 4 0 1 0 0-8 4 4 0 0 0 0 8zM8 0a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 0zm0 13a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 13zm8-5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2a.5.5 0 0 1 .5.5zM3 8a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2A.5.5 0 0 1 3 8zm10.657-5.657a.5.5 0 0 1 0 .707l-1.414 1.415a.5.5 0 1 1-.707-.708l1.414-1.414a.5.5 0 0 1 .707 0zm-9.193 9.193a.5.5 0 0 1 0 .707L3.05 13.657a.5.5 0 0 1-.707-.707l1.414-1.414a.5.5 0 0 1 .707 0zm9.193 2.121a.5.5 0 0 1-.707 0l-1.414-1.414a.5.5 0 0 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .707zM4.464 4.465a.5.5 0 0 1-.707 0L2.343 3.05a.5.5 0 1 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .708z"></path></symbol></svg><a class="visually-hidden-focusable skip-link" href="#main-content">Skip to main content</a>
  <div class="container-fluid top-nav-container">
    <div class="col-md-8">
      <div class="large-logo">
        <img id="dc-logo" alt="Data Carpentry" src="../assets/images/data-logo.svg"></div>
    </div>
    <div class="selector-container">
      <div id="theme-selector">
        <li class="nav-item dropdown" id="theme-button-list">
          <button class="btn btn-link nav-link px-0 px-lg-2 dropdown-toggle d-flex align-items-center" id="bd-theme" type="button" aria-expanded="false" data-bs-toggle="dropdown" data-bs-display="static" aria-label="Toggle theme (auto)">
            <svg class="bi my-1 theme-icon-active"><use href="#circle-half"></use></svg><i data-feather="chevron-down"></i>
          </button>
          <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="bd-theme-text"><li>
              <button type="button" class="btn dropdown-item d-flex align-items-center" data-bs-theme-value="light" aria-pressed="false">
                <svg class="bi me-2 theme-icon"><use href="#sun-fill"></use></svg>
                Light
                <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
            </li>
            <li>
              <button type="button" class="btn dropdown-item d-flex align-items-center" data-bs-theme-value="dark" aria-pressed="false">
                <svg class="bi me-2 theme-icon"><use href="#moon-stars-fill"></use></svg>
                Dark
                <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
            </li>
            <li>
              <button type="button" class="btn dropdown-item d-flex align-items-center active" data-bs-theme-value="auto" aria-pressed="true">
                <svg class="bi me-2 theme-icon"><use href="#circle-half"></use></svg>
                Auto
                <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
            </li>
          </ul></li>
      </div>

      <div class="dropdown" id="instructor-dropdown">
        <button class="btn btn-secondary dropdown-toggle bordered-button" type="button" id="dropdownMenu1" data-bs-toggle="dropdown" aria-expanded="false">
          <i aria-hidden="true" class="icon" data-feather="eye"></i> Instructor View <i data-feather="chevron-down"></i>
        </button>
        <ul class="dropdown-menu" aria-labelledby="dropdownMenu1"><li><button class="dropdown-item" type="button" onclick="window.location.href='../n003-data-structures.html';">Learner View</button></li>
        </ul></div>
    </div>
  </div>
  <hr></header><nav class="navbar navbar-expand-xl bottom-nav data" aria-label="Main Navigation"><div class="container-fluid nav-container">
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle Navigation">
      <span class="navbar-toggler-icon"></span>
      <span class="menu-title">Menu</span>
    </button>
    <div class="nav-logo">
      <img class="small-logo" alt="Data Carpentry" src="../assets/images/data-logo-sm.svg"></div>
    <div class="lesson-title-md">
      Data Analysis and Visualization in Python for Ecologists
    </div>
    <div class="search-icon-sm">
      <!-- TODO: do not show until we have search
        <i role="img" aria-label="Search the All In One page" data-feather="search"></i>
      -->
    </div>
    <div class="desktop-nav">
      <ul class="navbar-nav me-auto mb-2 mb-lg-0"><li class="nav-item">
          <span class="lesson-title">
            Data Analysis and Visualization in Python for Ecologists
          </span>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="../instructor/key-points.html">Key Points</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="../instructor/instructor-notes.html">Instructor Notes</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="../instructor/images.html">Extract All Images</a>
        </li>
        <li class="nav-item dropdown">
          <button class="nav-link dropdown-toggle" id="navbarDropdown" data-bs-toggle="dropdown" aria-expanded="false">
            More <i data-feather="chevron-down"></i>
          </button>
          <ul class="dropdown-menu" aria-labelledby="navbarDropdown"><li><a class="dropdown-item" href="CONTRIBUTORS.html">About Contributors</a></li><li><a class="dropdown-item" href="extra_challenges.html">Extra Challenges</a></li><hr><li><a class="dropdown-item" href="discuss.html">Discussion</a></li><li><a class="dropdown-item" href="jupyter_notebooks.html">Overview of Jupyter Notebooks</a></li><li><a class="dropdown-item" href="reference.html">Glossary</a></li>
          </ul></li>
      </ul></div>
    <!--
    <form class="d-flex col-md-2 search-form">
      <fieldset disabled>
      <input class="form-control me-2 searchbox" type="search" placeholder="" aria-label="">
        <button class="btn btn-outline-success tablet-search-button"  type="submit">
          <i class="search-icon" data-feather="search" role="img" aria-label="Search the All In One page"></i>
        </button>
      </fieldset>
    </form>
    -->
    <a id="search-button" class="btn btn-primary" href="../instructor/aio.html" role="button" aria-label="Search the All In One page">Search the All In One page</a>
  </div><!--/div.container-fluid -->
</nav><div class="col-md-12 mobile-title">
  Data Analysis and Visualization in Python for Ecologists
</div>

<aside class="col-md-12 lesson-progress"><div style="width: 13%" class="percentage">
    13%
  </div>
  <div class="progress data">
    <div class="progress-bar data" role="progressbar" style="width: 13%" aria-valuenow="13" aria-label="Lesson Progress" aria-valuemin="0" aria-valuemax="100">
    </div>
  </div>
</aside><div class="container">
      <div class="row">
        <!-- START: inst/pkgdown/templates/navbar.html -->
<div id="sidebar-col" class="col-lg-4">
  <div id="sidebar" class="sidebar">
      <nav aria-labelledby="flush-headingEleven"><button role="button" aria-label="close menu" alt="close menu" aria-expanded="true" aria-controls="sidebar" class="collapse-toggle" data-collapse="Collapse " data-episodes="Episodes ">
          <i class="search-icon" data-feather="x" role="img"></i>
        </button>
        <div class="sidebar-inner">
          <div class="row mobile-row" id="theme-row-mobile">
            <div class="col" id="theme-selector">
              <li class="nav-item dropdown" id="theme-button-list">
                <button class="btn btn-link nav-link px-0 px-lg-2 dropdown-toggle d-flex align-items-center" id="bd-theme" type="button" aria-expanded="false" data-bs-toggle="dropdown" data-bs-display="static" aria-label="Toggle theme (auto)">
                  <svg class="bi my-1 theme-icon-active"><use href="#circle-half"></use></svg><span class="d-lg-none ms-1" id="bd-theme-text">Toggle Theme</span>
                </button>
                <ul class="dropdown-menu dropdown-menu-right" aria-labelledby="bd-theme-text"><li>
                    <button type="button" class="btn dropdown-item d-flex align-items-center" data-bs-theme-value="light" aria-pressed="false">
                      <svg class="bi me-2 theme-icon"><use href="#sun-fill"></use></svg>
                      Light
                      <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
                  </li>
                  <li>
                    <button type="button" class="btn dropdown-item d-flex align-items-center" data-bs-theme-value="dark" aria-pressed="false">
                      <svg class="bi me-2 theme-icon"><use href="#moon-stars-fill"></use></svg>
                      Dark
                      <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
                  </li>
                  <li>
                    <button type="button" class="btn dropdown-item d-flex align-items-center active" data-bs-theme-value="auto" aria-pressed="true">
                      <svg class="bi me-2 theme-icon"><use href="#circle-half"></use></svg>
                      Auto
                      <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
                  </li>
                </ul></li>
            </div>
          </div>
          <div class="row mobile-row">
            <div class="col">
              <div class="sidenav-view-selector">
                <div class="accordion accordion-flush" id="accordionFlush9">
                  <div class="accordion-item">
                    <h2 class="accordion-header" id="flush-headingNine">
                      <button class="accordion-button collapsed" id="instructor" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseNine" aria-expanded="false" aria-controls="flush-collapseNine">
                        <i id="eye" aria-hidden="true" class="icon" data-feather="eye"></i> Instructor View
                      </button>
                    </h2>
                    <div id="flush-collapseNine" class="accordion-collapse collapse" aria-labelledby="flush-headingNine" data-bs-parent="#accordionFlush2">
                      <div class="accordion-body">
                        <a href="../n003-data-structures.html">Learner View</a>
                      </div>
                    </div>
                  </div><!--/div.accordion-item-->
                </div><!--/div.accordion-flush-->
              </div><!--div.sidenav-view-selector -->
            </div><!--/div.col -->

            <hr></div><!--/div.mobile-row -->

          <div class="accordion accordion-flush" id="accordionFlush11">
            <div class="accordion-item">

              <button id="chapters" class="accordion-button show" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseEleven" aria-expanded="false" aria-controls="flush-collapseEleven">
                <h2 class="accordion-header chapters" id="flush-headingEleven">
                  EPISODES
                </h2>
              </button>
              <div id="flush-collapseEleven" class="accordion-collapse show collapse" aria-labelledby="flush-headingEleven" data-bs-parent="#accordionFlush11">

                <div class="accordion-body">
                  <div class="accordion accordion-flush" id="accordionFlush1">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading1">
        <a href="index.html">Summary and Schedule</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush2">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading2">
        <a href="n001-getting-started.html">1. Getting Started</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush3">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading3">
        <a href="n002-visualizing-matplotlib.html">2. Data visualization with Pandas and Matplotlib</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlushcurrent">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-headingcurrent">
      <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapsecurrent" aria-expanded="true" aria-controls="flush-collapsecurrent">
        <span class="visually-hidden">Current Chapter</span>
        <span class="current-chapter">
        3. Exploring and understanding data
        </span>
      </button>
    </div><!--/div.accordion-header-->

    <div id="flush-collapsecurrent" class="accordion-collapse collapse show" aria-labelledby="flush-headingcurrent" data-bs-parent="#accordionFlushcurrent">
      <div class="accordion-body">
        <ul><li><a href="#the-pandas-dataframe">The pandas <code>DataFrame</code></a></li>
<li><a href="#aside-getting-help">Aside: Getting Help</a></li>
<li><a href="#data-input-within-python">Data input within Python</a></li>
<li><a href="#unexpected-data-types">Unexpected data types</a></li>
<li><a href="#assignment-evaluation-and-mutability">Assignment, evaluation, and mutability</a></li>
        </ul></div><!--/div.accordion-body-->
    </div><!--/div.accordion-collapse-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush5">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading5">
        <a href="00-before-we-start.html">4. Before we start</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush6">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading6">
        <a href="01-short-introduction-to-Python.html">5. Short Introduction to Programming in Python</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush7">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading7">
        <a href="02-starting-with-data.html">6. Starting With Data</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush8">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading8">
        <a href="03-index-slice-subset.html">7. Indexing, Slicing and Subsetting DataFrames in Python</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush9">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading9">
        <a href="04-data-types-and-format.html">8. Data Types and Formats</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush10">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading10">
        <a href="05-merging-data.html">9. Combining DataFrames with Pandas</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush11">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading11">
        <a href="06-loops-and-functions.html">10. Data Workflows and Automation</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush12">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading12">
        <a href="07-visualization-ggplot-python.html">11. Making Plots With plotnine</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush13">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading13">
        <a href="08-putting-it-all-together.html">12. Data Ingest and Visualization - Matplotlib and Pandas</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush14">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading14">
        <a href="09-working-with-sql.html">13. Accessing SQLite Databases Using Python and Pandas</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

                </div>
              </div>
            </div>

            <hr class="half-width"><div class="accordion accordion-flush lesson-resources" id="accordionFlush12">
              <div class="accordion-item">
                <h2 class="accordion-header" id="flush-headingTwelve">
                  <button class="accordion-button collapsed" id="lesson-resources" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseTwelve" aria-expanded="false" aria-controls="flush-collapseTwelve">
                    RESOURCES
                  </button>
                </h2>
                <div id="flush-collapseTwelve" class="accordion-collapse collapse" aria-labelledby="flush-headingTwelve" data-bs-parent="#accordionFlush12">
                  <div class="accordion-body">
                    <ul><li>
                        <a href="../instructor/key-points.html">Key Points</a>
                      </li>
                      <li>
                        <a href="../instructor/instructor-notes.html">Instructor Notes</a>
                      </li>
                      <li>
                        <a href="../instructor/images.html">Extract All Images</a>
                      </li>
                      <li><a href="CONTRIBUTORS.html">About Contributors</a></li><li><a href="extra_challenges.html">Extra Challenges</a></li><hr><li><a class="dropdown-item" href="discuss.html">Discussion</a></li><li><a class="dropdown-item" href="jupyter_notebooks.html">Overview of Jupyter Notebooks</a></li><li><a class="dropdown-item" href="reference.html">Glossary</a></li>
                    </ul></div>
                </div>
              </div>
            </div>
            <hr class="half-width lesson-resources"><a href="../instructor/aio.html">See all in one page</a>


            <hr class="d-none d-sm-block d-md-none"><div class="d-grid gap-1">

            </div>
          </div><!-- /div.accordion -->
        </div><!-- /div.sidebar-inner -->
      </nav></div><!-- /div.sidebar -->
  </div><!-- /div.sidebar-col -->
<!-- END:   inst/pkgdown/templates/navbar.html-->

        <!-- START: inst/pkgdown/templates/content-instructor.html -->
  <div class="col-xl-8 col-lg-12 primary-content">
    <nav class="lesson-content mx-md-4" aria-label="Previous and Next Chapter"><!-- content for small screens --><div class="d-block d-sm-block d-md-none">
        <a class="chapter-link" href="../instructor/n002-visualizing-matplotlib.html"><i aria-hidden="true" class="small-arrow" data-feather="arrow-left"></i>Previous</a>
        <a class="chapter-link float-end" href="../instructor/00-before-we-start.html">Next<i aria-hidden="true" class="small-arrow" data-feather="arrow-right"></i></a>
      </div>
      <!-- content for large screens -->
      <div class="d-none d-sm-none d-md-block">
        <a class="chapter-link" href="../instructor/n002-visualizing-matplotlib.html" rel="prev">
          <i aria-hidden="true" class="small-arrow" data-feather="arrow-left"></i>
          Previous: Data visualization
        </a>
        <a class="chapter-link float-end" href="../instructor/00-before-we-start.html" rel="next">
          Next: Before we start...
          <i aria-hidden="true" class="small-arrow" data-feather="arrow-right"></i>
        </a>
      </div>
      <hr></nav><main id="main-content" class="main-content"><div class="container lesson-content">
        <h1>Exploring and understanding data</h1>
        <p>Last updated on 2025-10-27 |

        <a href="https://github.com/datacarpentry/python-ecology-lesson/edit/main/episodes/n003-data-structures.md" class="external-link">Edit this page <i aria-hidden="true" data-feather="edit"></i></a></p>



        <p>Estimated time: <i aria-hidden="true" data-feather="clock"></i> 100 minutes</p>

        <div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right" data-expand="Expand All Solutions " data-collapse="Collapse All Solutions "> Expand All Solutions <i aria-hidden="true" data-feather="plus"></i></button>
        </div>

        

<div class="overview card">
<h2 class="card-header">Overview</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Questions</h3>
<ul><li>How can I do exploratory data analysis in Python?</li>
<li>How do I get help when I am stuck?</li>
<li>What impact does an object’s type have on what I can do with
it?</li>
<li>How are expressions evaluated and values assigned to variables?</li>
</ul></div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objectives</h3>
<ul><li>Explore the structure and content of pandas dataframes</li>
<li>Convert data types and handle missing data</li>
<li>Interpret error messages and develop strategies to get help with
Python</li>
<li>Trace how Python assigns values to objects</li>
</ul></div>
</div>
</div>
</div>
</div>
<section><h2 class="section-heading" id="the-pandas-dataframe">The pandas <code>DataFrame</code>
<a class="anchor" aria-label="anchor" href="#the-pandas-dataframe"></a></h2>
<hr class="half-width"><p>We just spent quite a bit of time learning how to create
visualisations from the <code>samples</code> data, but we did not talk
much about what <code>samples</code> is. Let’s first load the data
again:</p>
<div class="codewrapper sourceCode" id="cb1">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a>samples <span class="op">=</span> pd.read_csv(<span class="st">'../data/surveys_complete_77_89.csv'</span>)</span></code></pre>
</div>
<p>You may remember that we loaded the data into Python with the
<code>pandas.read_csv</code> function. The output of
<code>read_csv</code> is a <em>data frame</em>: a common way of
representing tabular data in a programming language. To be precise,
<code>samples</code> is an <em>object</em> of <em>type</em>
<code>DataFrame</code>. In Python, pretty much everything you work with
is an object of some type. The <code>type</code> function can be used to
tell you the type of any object you pass to it.</p>
<div class="codewrapper sourceCode" id="cb2">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a><span class="bu">type</span>(samples)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="va">pandas.core.frame.DataFrame</span></span></code></pre>
</div>
<p>This output tells us that the <code>DataFrame</code> object type is
defined by pandas, i.e. it is a special type of object not included in
the core functionality of Python.</p>
<div class="section level3">
<h3 id="exploring-data-in-a-dataframe">Exploring data in a dataframe<a class="anchor" aria-label="anchor" href="#exploring-data-in-a-dataframe"></a></h3>
<p>We encountered the <code>plot</code>, <code>head</code> and
<code>tail</code> methods in the previous epsiode. Dataframe objects
carry many other methods, including some that are useful when exploring
a dataset for the first time. Consider the output of
<code>describe</code>:</p>
<div class="codewrapper sourceCode" id="cb4">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" tabindex="-1"></a>samples.describe()</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>              month           day 	       year       plot_id  hindfoot_length 	      weight
count  16878.000000  16878.000000  16878.000000  16878.000000     14145.000000  15186.000000
mean       6.382214     15.595805   1983.582119     11.471442        31.982114     53.216647
std        3.411215      8.428180      3.492428      6.865875        10.709841     44.265878
min        1.000000      1.000000   1977.000000      1.000000         6.000000      4.000000
25%        3.000000      9.000000   1981.000000      5.000000        21.000000     24.000000
50%        6.000000     15.000000   1983.000000     11.000000        35.000000     42.000000
75%        9.000000     23.000000   1987.000000     17.000000        37.000000     53.000000
max       12.000000     31.000000   1989.000000     24.000000        70.000000    278.000000</code></pre>
</div>
<p>These summary statistics give an immediate impression of the
distribution of the data. It is always worth performing an initial
“sniff test” with these: if there are major issues with the data or its
formatting, they may become apparent at this stage.</p>
<p><code>info</code> provides an overview of the columns included in the
dataframe:</p>
<div class="codewrapper sourceCode" id="cb6">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" tabindex="-1"></a>samples.info()</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>&lt;class 'pandas.core.frame.DataFrame'&gt;
Index: 16878 entries, 1 to 16878
Data columns (total 12 columns):
 #   Column           Non-Null Count  Dtype
---  ------           --------------  -----
 0   month            16878 non-null  int64
 1   day              16878 non-null  int64
 2   year             16878 non-null  int64
 3   plot_id          16878 non-null  int64
 4   species_id       16521 non-null  object
 5   sex              15578 non-null  object
 6   hindfoot_length  14145 non-null  float64
 7   weight           15186 non-null  float64
 8   genus            16521 non-null  object
 9   species          16521 non-null  object
 10  taxa             16521 non-null  object
 11  plot_type        16878 non-null  object
dtypes: float64(2), int64(4), object(6)
memory usage: 1.7+ MB</code></pre>
</div>
<p>We get quite a bit of useful information here too. First, we are told
that we have a <code>DataFrame</code> of 16878 entries, or rows, and 12
variables, or columns.</p>
<p>Next, we get a bit of information on each variable, including its
column title, a count of the <em>non-null</em> values (that is, values
that are not missing), and something called the <code>dtype</code> of
the column.</p>
</div>
<div class="section level3">
<h3 id="data-types">Data types<a class="anchor" aria-label="anchor" href="#data-types"></a></h3>
<p>The <code>dtype</code> property of a dataframe column describes the
<em>data type</em> of the values stored in that column. There are three
in the example above:</p>
<ul><li>
<code>int64</code>: this column contains integer (whole number)
values.</li>
<li>
<code>object</code>: this column contains string (non-numeric
sequence of characters) values.</li>
<li>
<code>float64</code>: this column contains “floating point” values
i.e. numeric values containing a decimal point.</li>
</ul><p>The <code>64</code> after <code>int</code> and <code>float</code>
represents the level of precision with which the values in the column
are stored in the computer’s memory. Other types with lower levels of
precision are available for numeric values, e.g. <code>int32</code> and
<code>float16</code>, which will take up less memory on your system but
limit the size and level of precision of the numbers they can store.</p>
<p>The <code>dtype</code> of a column is important because it determines
the kinds of operation that can be performed on the values in that
column. Let’s work with a couple of the columns independently to
demonstrate this.</p>
</div>
<div class="section level3">
<h3 id="the-series-object">The <code>Series</code> object<a class="anchor" aria-label="anchor" href="#the-series-object"></a></h3>
<p>To work with a single column of a dataframe, we can refer to it by
name in two different ways:</p>
<div class="codewrapper sourceCode" id="cb8">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" tabindex="-1"></a>samples[<span class="st">'species_id'</span>]</span></code></pre>
</div>
<p>or</p>
<div class="codewrapper sourceCode" id="cb9">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" tabindex="-1"></a>samples.species_id <span class="co"># this only works if there are no spaces in the column name (note the underscore used here)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>record_id
1        NL
2        NL
3        DM
4        DM
5        DM
         ..
16874    RM
16875    RM
16876    DM
16877    DM
16878    DM
Name: species_id, Length: 16878, dtype: object</code></pre>
</div>
<div id="tip-use-tab-completion-on-column-names" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<span class="callout-header">Callout</span>
<div id="tip-use-tab-completion-on-column-names" class="callout-inner">
<h3 class="callout-title">Tip: use tab completion on column names</h3>
<div class="callout-content">
<p>Tab completion, where you start typing the name of a variable,
function, etc before hitting <kbd>Tab</kbd> to auto-complete the rest,
also works on column names of a dataframe. Since this tab completion
saves time and reduces the chance of including typos, we recommend you
use it as frequently as possible.</p>
</div>
</div>
</div>
<p>The result of that operation is a <em>series</em> of data: a
one-dimensional sequence of values that all have the same
<code>dtype</code> (<code>object</code> in this case). Dataframe objects
are collections of the series “glued together” with a shared
<em>index</em>: the column of unique identifiers we associate with each
row. <code>record_id</code> is the index of the series summarised above;
the values carried by the series are <code>NL</code>, <code>DM</code>,
<code>AH</code>, etc (short species identification codes).</p>
<p>If we choose a different column of the dataframe, we get another
series with a different data type:</p>
<div class="codewrapper sourceCode" id="cb11">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" tabindex="-1"></a>samples[<span class="st">'weight'</span>]</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>record_id
1         NaN
2         NaN
3         NaN
4         NaN
5         NaN
         ...
16874    15.0
16875     9.0
16876    31.0
16877    50.0
16878    42.0
Name: weight, Length: 16878, dtype: float64</code></pre>
</div>
<p>The data type of the series influences the things that can be done
with/to it. For example, sorting works differently for these two series,
with the numeric values in the <code>weight</code> series sorted from
largest to smallest and the character strings in <code>species_id</code>
sorted alphabetically:</p>
<div class="codewrapper sourceCode" id="cb13">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" tabindex="-1"></a>samples[<span class="st">'weight'</span>].sort_values()</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>record_id
9790     4.0
5346     4.0
4052     4.0
9853     4.0
7084     4.0
        ...
16772    NaN
16777    NaN
16808    NaN
16846    NaN
16860    NaN
Name: weight, Length: 16878, dtype: float64</code></pre>
</div>
<div class="codewrapper sourceCode" id="cb15">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" tabindex="-1"></a>samples[<span class="st">'species_id'</span>].sort_values()</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>record_id
12345     AB
9861      AB
10970     AB
10963     AB
5759      AB
        ...
16453    NaN
16454    NaN
16488    NaN
16489    NaN
16539    NaN
Name: species_id, Length: 16878, dtype: object</code></pre>
</div>
<p>This pattern of behaviour, where the type of an object determines
what can be done with it and influences how it is done, is a defining
characteristic of Python. As you gain more experience with the language,
you will become more familiar with this way of working with data. For
now, as you begin on your learning journey with the language, we
recommend using the <code>type</code> function frequently to make sure
that you know what kind of data/object you are working with, and do not
be afraid to ask for help whenever you are unsure or encounter a
problem.</p>
</div>
</section><section><h2 class="section-heading" id="aside-getting-help">Aside: Getting Help<a class="anchor" aria-label="anchor" href="#aside-getting-help"></a></h2>
<hr class="half-width"><p>You may have already encountered several errors while following the
lesson and this is a good time to take a step back and discuss good
strategies to get help when something goes wrong.</p>
<div class="section level3">
<h3 id="the-built-in-help-function">The built-in <code>help</code> function<a class="anchor" aria-label="anchor" href="#the-built-in-help-function"></a></h3>
<p>Use <code>help</code> to view documentation for an object or
function. For example, if you want to see documentation for the
<code>round</code> function:</p>
<div class="codewrapper sourceCode" id="cb17">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" tabindex="-1"></a><span class="bu">help</span>(<span class="bu">round</span>)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>Help on built-in function round in module builtins:

round(number, ndigits=None)
    Round a number to a given precision in decimal digits.

    The return value is an integer if ndigits is omitted or None.  Otherwise
    the return value has the same type as the number.  ndigits may be negative.</code></pre>
</div>
</div>
<div class="section level3">
<h3 id="the-jupyter-notebook-has-two-ways-to-get-help-">The Jupyter Notebook has two ways to get help.<a class="anchor" aria-label="anchor" href="#the-jupyter-notebook-has-two-ways-to-get-help-"></a></h3>
<p>If you are working in Jupyter (Notebook or Lab), the platform offers
some additional ways to see documentation/get help:</p>
<ul><li>Option 1: Type the function name in a cell with a question mark
after it, e.g. <code>round?</code>. Then run the cell.</li>
<li>Option 2: (Not available on all systems) Place the cursor near where
the function is invoked in a cell (i.e., the function name or its
parameters),
<ul><li>Hold down <kbd>Shift</kbd>, and press <kbd>Tab</kbd>.</li>
<li>Do this several times to expand the information returned.</li>
</ul></li>
</ul></div>
<div class="section level3">
<h3 id="understanding-error-messages">Understanding error messages<a class="anchor" aria-label="anchor" href="#understanding-error-messages"></a></h3>
<p>The error messages returned when something goes wrong can be (very)
long but contain information about the problem, which can be very useful
once you know how to interpret it. For example, you might receive a
<code>SyntaxError</code> if you mistyped a line and the resulting code
was invalid:</p>
<div class="codewrapper sourceCode" id="cb19">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" tabindex="-1"></a><span class="co"># Forgot to close the quote marks around the string.</span></span>
<span id="cb19-2"><a href="#cb19-2" tabindex="-1"></a>name <span class="op">=</span> <span class="st">'Feng</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">ERROR<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="error" tabindex="0"><code>  Cell In[129], line 1
    name = 'Feng
           ^
SyntaxError: unterminated string literal (detected at line 1)</code></pre>
</div>
<p>There are three parts to this error message:</p>
<div class="codewrapper">
<h3 class="code-label">ERROR<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="error" tabindex="0"><code>  Cell In[129], line 1</code></pre>
</div>
<p>This tells us where the error occured. This is of limited help in
Jupyter, since we know that the error is in the cell we just ran
(<code>Cell In[129]</code>), but the line number can be helpful
especially when the cell is quite long. But when running a larger
program written in Python, perhaps built up from multiple individual
scripts, this can be more useful, e.g.</p>
<div class="codewrapper">
<h3 class="code-label">ERROR<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="error" tabindex="0"><code>  data_visualisation.py, line 42</code></pre>
</div>
<p>Next, we see a copy of the line where the error was encountered,
often annotated with an arrow pointing out exactly where Python thinks
the problem is:</p>
<div class="codewrapper">
<h3 class="code-label">ERROR<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="error" tabindex="0"><code>    name = 'Feng
           ^</code></pre>
</div>
<p>Python is not <em>exactly</em> right in this case: from context you
might be able to guess that the issue is really the lack of a closing
quotation mark at the end of the line. But an arrow pointing to the
opening quotation mark can give us a push in the right direction.
Sometimes Python gets these annotations exactly right. Occasionally, it
gets them completely wrong. In the vast majority of cases they are at
least somewhat helpful.</p>
<p>Finally, we get the error message itself:</p>
<div class="codewrapper">
<h3 class="code-label">ERROR<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="error" tabindex="0"><code>SyntaxError: unterminated string literal (detected at line 1)</code></pre>
</div>
<p>This always begins with a statement of the <em>type</em> of error
encountered: in this case, a <code>SyntaxError</code>. That provides a
broad categorisation for what went wrong. The rest of the message is a
description of exactly what the problem was from Python’s perspective.
Error messages can be loaded with jargon and quite difficult to
understand when you are first starting out. In this example,
<code>unterminated string literal</code> is a technical way of saying
“you opened some quotes, which I think means you were trying to define a
string value, but the quotes did not get closed before the end of the
line.”</p>
<p>It is normal not to understand exactly what these error messages mean
the first time you encounter them. Since programming involves making
lots of mistakes (for everyone!), you will start to become familiar with
many of them over time. As you continue learning, we recommend that you
ask others for help: more experienced programmers have made all of these
mistakes before you and will probably be better at spotting what has
gone wrong. (More on asking for help below.)</p>
<div class="section level4">
<h4 id="error-output-can-get-really-long">Error output can get really long!<a class="anchor" aria-label="anchor" href="#error-output-can-get-really-long"></a></h4>
<p>Especially when using functions from libraries you have imported into
your program, the middle part of the error message (the
<em>traceback</em>) can get rather long. For example, what happens if we
try to access a column that does not exist in our dataframe?</p>
<div class="codewrapper sourceCode" id="cb25">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb25-1"><a href="#cb25-1" tabindex="-1"></a>samples[<span class="st">'wegiht'</span>] <span class="co"># misspelling the 'weight' column name</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">ERROR<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="error" tabindex="0"><code>---------------------------------------------------------------------------
KeyError                                  Traceback (most recent call last)
File ~/miniforge3/envs/carpentries/lib/python3.11/site-packages/pandas/core/indexes/base.py:3812, in Index.get_loc(self, key)
   3811 try:
-&gt; 3812     return self._engine.get_loc(casted_key)
   3813 except KeyError as err:

File pandas/_libs/index.pyx:167, in pandas._libs.index.IndexEngine.get_loc()

File pandas/_libs/index.pyx:196, in pandas._libs.index.IndexEngine.get_loc()

File pandas/_libs/hashtable_class_helper.pxi:7088, in pandas._libs.hashtable.PyObjectHashTable.get_item()

File pandas/_libs/hashtable_class_helper.pxi:7096, in pandas._libs.hashtable.PyObjectHashTable.get_item()

KeyError: 'wegiht'

The above exception was the direct cause of the following exception:

KeyError                                  Traceback (most recent call last)
Cell In[131], line 1
----&gt; 1 samples['wegiht']

File ~/miniforge3/envs/carpentries/lib/python3.11/site-packages/pandas/core/frame.py:4107, in DataFrame.__getitem__(self, key)
   4105 if self.columns.nlevels &gt; 1:
   4106     return self._getitem_multilevel(key)
-&gt; 4107 indexer = self.columns.get_loc(key)
   4108 if is_integer(indexer):
   4109     indexer = [indexer]

File ~/miniforge3/envs/carpentries/lib/python3.11/site-packages/pandas/core/indexes/base.py:3819, in Index.get_loc(self, key)
   3814     if isinstance(casted_key, slice) or (
   3815         isinstance(casted_key, abc.Iterable)
   3816         and any(isinstance(x, slice) for x in casted_key)
   3817     ):
   3818         raise InvalidIndexError(key)
-&gt; 3819     raise KeyError(key) from err
   3820 except TypeError:
   3821     # If we have a listlike key, _check_indexing_error will raise
   3822     #  InvalidIndexError. Otherwise we fall through and re-raise
   3823     #  the TypeError.
   3824     self._check_indexing_error(key)

KeyError: 'wegiht'</code></pre>
</div>
<p>(This is still relatively short compared to some errors messages we
have seen!)</p>
<p>When you encounter a long error like this one, do not panic! Our
advice is to focus on the first couple of lines and the last couple of
lines. Everything in the middle (as the name traceback suggests) is
retracing steps through the program, identifying where problems were
encountered along the way. That information is only really useful to
somebody interested in the inner workings of the pandas library, which
is well beyond the scope of this lesson! If we ignore everything in the
middle, the parts of the error message we want to focus on are:</p>
<div class="codewrapper">
<h3 class="code-label">ERROR<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="error" tabindex="0"><code>---------------------------------------------------------------------------
KeyError                                  Traceback (most recent call last)

[... skipping these parts ...]

KeyError: 'wegiht'</code></pre>
</div>
<p>This tells us that the problem is the “key”: the value we used to
lookup the column in the dataframe. Hopefully, the repetition of the
value we provided would be enough to help us realise our mistake.</p>
</div>
</div>
<div class="section level3">
<h3 id="other-ways-to-get-help">Other ways to get help<a class="anchor" aria-label="anchor" href="#other-ways-to-get-help"></a></h3>
<p>There are several other ways that people often get help when they are
stuck with their Python code.</p>
<ul><li>Search the internet: paste the last line of your error message or
the word “python” and a short description of what you want to do into
your favourite search engine and you will usually find several examples
where other people have encountered the same problem and came looking
for help.
<ul><li>
<a href="https://stackoverflow.com/questions" class="external-link">StackOverflow</a> can
be particularly helpful for this: answers to questions are presented as
a ranked thread ordered according to how useful other users found them
to be.</li>
<li>
<strong>Take care:</strong> copying and pasting code written by
somebody else is risky unless you understand exactly what it is
doing!</li>
</ul></li>
<li>ask somebody “in the real world”. If you have a colleague or friend
with more expertise in Python than you have, show them the problem you
are having and ask them for help.</li>
<li>Sometimes, the act of articulating your question can help you to
identify what is going wrong. This is known as <a href="https://en.wikipedia.org/wiki/Rubber_duck_debugging" class="external-link">“rubber duck
debugging”</a> among programmers.</li>
</ul><div class="section level4">
<h4 id="generative-ai">Generative AI<a class="anchor" aria-label="anchor" href="#generative-ai"></a></h4>
<div id="accordionInstructor1" class="accordion instructor-note accordion-flush">
<div class="accordion-item">
<button class="accordion-button instructor-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseInstructor1" aria-expanded="false" aria-controls="collapseInstructor1">
  <h3 class="accordion-header" id="headingInstructor1">  <div class="note-square"><i aria-hidden="true" class="callout-icon" data-feather="edit-2"></i></div> Choose how to teach this section </h3>
</button>
<div id="collapseInstructor1" class="accordion-collapse collapse" data-bs-parent="#accordionInstructor1" aria-labelledby="headingInstructor1">
<div class="accordion-body">
<p>The section on generative AI is intended to be concise but
Instructors may choose to devote more time to the topic in a workshop.
Depending on your own level of experience and comfort with talking about
and using these tools, you could choose to do any of the following:</p>
<ul><li>Explain how large language models work and are trained, and/or the
difference between generative AI, other forms of AI that currently
exist, and the limits of what LLMs can do (e.g., they can’t
“reason”).</li>
<li>Demonstrate how you recommend that learners use generative AI.</li>
<li>Discuss the ethical concerns listed below, as well as others that
you are aware of, to help learners make an informed choice about whether
or not to use generative AI tools.</li>
</ul><p>This is a fast-moving technology. If you are preparing to teach this
section and you feel it has become outdated, please open an issue on the
lesson repository to let the Maintainers know and/or a pull request to
suggest updates and improvements.</p>
</div>
</div>
</div>
</div>
<p>It is increasingly common for people to use <em>generative AI</em>
chatbots such as ChatGPT to get help while coding. You will probably
receive some useful guidance by presenting your error message to the
chatbot and asking it what went wrong. However, the way this help is
provided by the chatbot is different. Answers on StackOverflow have
(probably) been given by a human as a direct response to the question
asked. But generative AI chatbots, which are based on an advanced
statistical model, respond by generating the <em>most likely</em>
sequence of text that would follow the prompt they are given.</p>
<p>While responses from generative AI tools can often be helpful, they
are not always reliable. These tools sometimes generate plausible but
incorrect or misleading information, so (just as with an answer found on
the internet) it is essential to verify their accuracy. You need the
knowledge and skills to be able to understand these responses, to judge
whether or not they are accurate, and to fix any errors in the code it
offers you.</p>
<p>In addition to asking for help, programmers can use generative AI
tools to generate code from scratch; extend, improve and reorganise
existing code; translate code between programming languages; figure out
what terms to use in a search of the internet; and more. However, there
are drawbacks that you should be aware of.</p>
<p>The models used by these tools have been “trained” on very large
volumes of data, much of it taken from the internet, and the responses
they produce reflect that training data, and may recapitulate its
inaccuracies or biases. The environmental costs (energy and water use)
of LLMs are a lot higher than other technologies, both during
development (known as training) and when an individual user uses one
(also called inference). For more information see the <a href="https://huggingface.co/blog/sasha/ai-environment-primer" class="external-link">AI
Environmental Impact Primer</a> developed by researchers at HuggingFace,
an AI hosting platform. Concerns also exist about the way the data for
this training was obtained, with questions raised about whether the
people developing the LLMs had permission to use it. Other ethical
concerns have also been raised, such as reports that workers were
exploited during the training process.</p>
<p><strong>We recommend that you avoid getting help from generative AI
during the workshop</strong> for several reasons:</p>
<ol style="list-style-type: decimal"><li>For most problems you will encounter at this stage, help and answers
can be found among the first results returned by searching the
internet.</li>
<li>The foundational knowledge and skills you will learn in this lesson
by writing and fixing your own programs are essential to be able to
evaluate the correctness and safety of any code you receive from online
help or a generative AI chatbot. If you choose to use these tools in the
future, the expertise you gain from learning and practising these
fundamentals on your own will help you use them more effectively.</li>
<li>As you start out with programming, the mistakes you make will be the
kinds that have also been made – and overcome! – by everybody else who
learned to program before you. Since these mistakes and the questions
you are likely to have at this stage are common, they are also better
represented than other, more specialised problems and tasks in the data
that was used to train generative AI tools. This means that a generative
AI chatbot is <em>more likely to produce accurate responses</em> to
questions that novices ask, which could give you a false impression of
how reliable they will be when you are ready to do things that are more
advanced.</li>
</ol></div>
</div>
</section><section><h2 class="section-heading" id="data-input-within-python">Data input within Python<a class="anchor" aria-label="anchor" href="#data-input-within-python"></a></h2>
<hr class="half-width"><p>Although it is more common (and faster) to input data in another
format e.g. a spreadsheet and read it in, Series and DataFrame objects
can be created directly within Python. Before we can make a new Series,
we need to learn about another type of data in Python: the list.</p>
<div class="section level3">
<h3 id="lists">Lists<a class="anchor" aria-label="anchor" href="#lists"></a></h3>
<p>Lists are one of the standard <em>data structures</em> built into
Python. A data structure is an object that contains more than one piece
of information. (DataFrames and Series are also data structures.) The
list is designed to contain multiple values in an ordered sequence: they
are a great choice if you want to build up and modify a collection of
values over time and/or handle each of those values one at a time. We
can create a new list in Python by capturing the values we want it to
store inside square brackets <code>[]</code>:</p>
<div class="codewrapper sourceCode" id="cb28">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb28-1"><a href="#cb28-1" tabindex="-1"></a>years_list <span class="op">=</span> [<span class="dv">2020</span>, <span class="dv">2025</span>, <span class="dv">2010</span>]</span>
<span id="cb28-2"><a href="#cb28-2" tabindex="-1"></a>years_list</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>[2020, 2025, 2010]</code></pre>
</div>
<p>New values can be added to the end of a list with the
<code>append</code> method:</p>
<div class="codewrapper sourceCode" id="cb30">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb30-1"><a href="#cb30-1" tabindex="-1"></a>years_list.append(<span class="dv">2015</span>)</span>
<span id="cb30-2"><a href="#cb30-2" tabindex="-1"></a>years_list</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>[2020, 2025, 2010, 2015]</code></pre>
</div>
<div id="exploring-list-methods" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<span class="callout-header">Challenge</span>
<div id="exploring-list-methods" class="callout-inner">
<h3 class="callout-title">Exploring list methods</h3>
<div class="callout-content">
<p>The <code>append</code> method allows us to add a value to the end of
a list but how could we insert a new value into a given position
instead? Applying what you have learned about how to find out the
methods that an object has, can you figure out how to place the value
<code>2019</code> into the third position in <code>years_list</code>
(shifting the values after it up one more position)? Recall that the
indexing used to specify positions in a sequence begins at 0 in
Python.</p>
</div>
</div>
</div>
<div id="accordionSolution1" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution1" aria-expanded="false" aria-controls="collapseSolution1">
  <h4 class="accordion-header" id="headingSolution1"> Show me the solution </h4>
</button>
<div id="collapseSolution1" class="accordion-collapse collapse" data-bs-parent="#accordionSolution1" aria-labelledby="headingSolution1">
<div class="accordion-body">
<p>Using tab completion, the <code>help</code> function, or looking up
the documentation online, we can discover the <code>insert</code> method
and learn how it works. <code>insert</code> takes two arguments: the
position for the new list entry and the value to be placed in that
position:</p>
<div class="codewrapper sourceCode" id="cb32">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb32-1"><a href="#cb32-1" tabindex="-1"></a>years_list.insert(<span class="dv">2</span>, <span class="dv">2019</span>)</span>
<span id="cb32-2"><a href="#cb32-2" tabindex="-1"></a>years_list</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>[2020, 2025, 2019, 2010, 2015]</code></pre>
</div>
</div>
</div>
</div>
</div>
<p>Among many other methods is <code>sort</code>, which can be used to
sort the values in the list:</p>
<div class="codewrapper sourceCode" id="cb34">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb34-1"><a href="#cb34-1" tabindex="-1"></a>years_list.sort()</span>
<span id="cb34-2"><a href="#cb34-2" tabindex="-1"></a>years_list</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>[2010, 2015, 2019, 2020, 2025]</code></pre>
</div>
<p>The easiest way to create a new Series is with a list:</p>
<div class="codewrapper sourceCode" id="cb36">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb36-1"><a href="#cb36-1" tabindex="-1"></a>years_series <span class="op">=</span> pd.Series(years_list)</span>
<span id="cb36-2"><a href="#cb36-2" tabindex="-1"></a>years_series</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>0    2010
1    2015
2    2019
3    2020
4    2025
dtype: int64</code></pre>
</div>
<p>With the data in a Series, we can no longer do some of the things we
were able to do with the list, such as adding new values. But we do gain
access to some new possibilities, which can be very helpful. For
example, if we wanted to increase all of the values by 1000, this would
be easy with a Series but more complicated with a list:</p>
<div class="codewrapper sourceCode" id="cb38">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb38-1"><a href="#cb38-1" tabindex="-1"></a>years_series <span class="op">+</span> <span class="dv">1000</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>0    3010
1    3015
2    3019
3    3020
4    3025
dtype: int64</code></pre>
</div>
<div class="codewrapper sourceCode" id="cb40">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb40-1"><a href="#cb40-1" tabindex="-1"></a>years_list <span class="op">+</span> <span class="dv">1000</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">ERROR<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="error" tabindex="0"><code>---------------------------------------------------------------------------
TypeError                                 Traceback (most recent call last)
Cell In[126], line 1
----&gt; 1 years_list + 1000

TypeError: can only concatenate list (not "int") to list</code></pre>
</div>
<p>This illustrates an important principle of Python: different data
structures are suitable for different “modes” of working with data. It
can be helpful to work with a list when building up an initial set of
data from scratch, but when you are ready to begin operating on that
dataset as a whole (performing calculations with it, visualising it,
etc), you will be rewarded for switching to a more specialised datatype
like a Series or DataFrame from pandas.</p>
</div>
</section><section><h2 class="section-heading" id="unexpected-data-types">Unexpected data types<a class="anchor" aria-label="anchor" href="#unexpected-data-types"></a></h2>
<hr class="half-width"><p>Operations like the addition of 1000 we performed on
<code>years_series</code> work because pandas knows how to add a number
to the integer values in the series. That behaviour is determind by the
<code>dtype</code> of the series, which makes that <code>dtype</code>
really important for how you want to work with your data. Let’s explore
how the <code>dtype</code> is chosen. Returning to the
<code>years_series</code> object we created above:</p>
<div class="codewrapper sourceCode" id="cb42">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb42-1"><a href="#cb42-1" tabindex="-1"></a>years_series</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>0    2010
1    2015
2    2019
3    2020
4    2025
dtype: int64</code></pre>
</div>
<p>The <code>dtype: int64</code> was determined automatically based on
the values passed in. But what if the values provided are of several
different types?</p>
<div class="codewrapper sourceCode" id="cb44">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb44-1"><a href="#cb44-1" tabindex="-1"></a>ages_series <span class="op">=</span> pd.Series([<span class="dv">2</span>, <span class="dv">3</span>, <span class="fl">5.5</span>, <span class="dv">6</span>, <span class="dv">8</span>])</span>
<span id="cb44-2"><a href="#cb44-2" tabindex="-1"></a>ages_series</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>0    2.0
1    3.0
2    5.5
3    6.0
4    8.0
dtype: float64</code></pre>
</div>
<p>Pandas assigns a <code>dtype</code> that allows it to account for all
of the values it is given, converting some values to another
<code>dtype</code> if needed, in a process called <em>coercion</em>. In
the case above, all of the integer values were coerced to floating point
numbers to account for the <code>5.5</code>.</p>
<div id="exercise-coercion" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<span class="callout-header">Challenge</span>
<div id="exercise-coercion" class="callout-inner">
<h3 class="callout-title">Exercise: Coercion</h3>
<div class="callout-content">
<p>Can you guess the <code>dtype</code> of each series created below?
Run the code to check whether you were right.</p>
<div class="codewrapper sourceCode" id="cb46">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb46-1"><a href="#cb46-1" tabindex="-1"></a>int_str <span class="op">=</span> pd.Series([<span class="dv">1</span>, <span class="st">'two'</span>, <span class="dv">3</span>])</span>
<span id="cb46-2"><a href="#cb46-2" tabindex="-1"></a>str_flt <span class="op">=</span> pd.Series([<span class="st">'four'</span>, <span class="fl">5.0</span>, <span class="st">'six'</span>])</span></code></pre>
</div>
</div>
</div>
</div>
<div id="accordionSolution2" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution2" aria-expanded="false" aria-controls="collapseSolution2">
  <h4 class="accordion-header" id="headingSolution2"> Show me the solution </h4>
</button>
<div id="collapseSolution2" class="accordion-collapse collapse" data-bs-parent="#accordionSolution2" aria-labelledby="headingSolution2">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb47">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb47-1"><a href="#cb47-1" tabindex="-1"></a>int_str</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>0      1
1    two
2      3
dtype: object</code></pre>
</div>
<div class="codewrapper sourceCode" id="cb49">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb49-1"><a href="#cb49-1" tabindex="-1"></a>str_flt</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>0   four
1    5.0
2    six
dtype: object</code></pre>
</div>
<p>In both cases, the numeric values are coerced into strings. When
automatically coercing values between types like this, Python aims to
minimise the amount of information lost.</p>
</div>
</div>
</div>
</div>
<p>In practice, it is much more common to read data from elsewhere
(e.g. with <code>read_csv</code>) than to enter it manually within
Python. When reading data from a file, pandas tries to guess the
appropriate <code>dtype</code> to assign to each column (series) of the
dataframe. This is usually very helpful but the process is sensitive to
inconsistencies and data entry errors in the input: a stray character in
one cell can cause an entire column to be coerced to a different
<code>dtype</code> than you might have wanted.</p>
<p>For example, if the raw data includes a symbol added by a typo
mistake (<code>=</code> instead of <code>-</code>):</p>
<pre class="csv"><code>name,latitude,longitude
Superior,47.7,-87.5
Victoria,-1.0,33.0
Tanganyika,=6.0,29.3</code></pre>
<p>We see a non-numeric <code>dtype</code> for the latitude column
(<code>object</code>) when we load the data into a dataframe.</p>
<div class="codewrapper sourceCode" id="cb52">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb52-1"><a href="#cb52-1" tabindex="-1"></a>lakes <span class="op">=</span> pd.read_csv(<span class="st">'../data/lakes.csv'</span>)</span>
<span id="cb52-2"><a href="#cb52-2" tabindex="-1"></a><span class="bu">print</span>(lakes)</span>
<span id="cb52-3"><a href="#cb52-3" tabindex="-1"></a>lakes.info()</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>&lt;class 'pandas.core.frame.DataFrame'&gt;
RangeIndex: 3 entries, 0 to 2
Data columns (total 3 columns):
 #   Column     Non-Null Count  Dtype
---  ------     --------------  -----
 0   name       3 non-null      object
 1   latitude   3 non-null      object
 2   longitude  3 non-null      float64
dtypes: float64(1), object(2)
memory usage: 200.0+ bytes</code></pre>
</div>
<p>It is a good idea to run the <code>info</code> method on a new
dataframe after you have loaded data for the first time: if one or more
of the columns has a different <code>dtype</code> than you expected,
this may be a signal that you need to clean up the raw data.</p>
<div class="section level3">
<h3 id="recasting">Recasting<a class="anchor" aria-label="anchor" href="#recasting"></a></h3>
<p>A column can be manually coerced (or <em>recast</em>) into a
different <code>dtype</code>, provided that pandas knows how to handle
that conversion. For example, the integer values in the
<code>plot_id</code> column of our dataframe can be converted to
floating point numbers:</p>
<div class="codewrapper sourceCode" id="cb54">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb54-1"><a href="#cb54-1" tabindex="-1"></a>samples[<span class="st">'plot_id'</span>] <span class="op">=</span> samples[<span class="st">'plot_id'</span>].astype(<span class="st">'float'</span>)</span>
<span id="cb54-2"><a href="#cb54-2" tabindex="-1"></a>samples[<span class="st">'plot_id'</span>]</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>record_id
record_id
1         2.0
2         3.0
3         2.0
4         7.0
5         3.0
         ...
16874    16.0
16875     5.0
16876     4.0
16877    11.0
16878     8.0
Name: plot_id, Length: 16878, dtype: float64</code></pre>
</div>
<p>But the string values of <code>species_id</code> cannot be converted
to numeric data:</p>
<div class="codewrapper sourceCode" id="cb56">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb56-1"><a href="#cb56-1" tabindex="-1"></a>samples.species_id <span class="op">=</span> samples[<span class="st">'species_id'</span>].astype(<span class="st">'int'</span>)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">ERROR<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="error" tabindex="0"><code>---------------------------------------------------------------------------
ValueError                                Traceback (most recent call last)
Cell In[101], line 1
----&gt; 1 samples.species_id = samples.species_id.astype('int64')

File ~/miniforge3/envs/carpentries/lib/python3.11/site-packages/pandas/core/generic.py:6662, in NDFrame.astype(self, dtype, copy, errors)
   6656     results = [
   6657         ser.astype(dtype, copy=copy, errors=errors) for _, ser in self.items()
   6658     ]
   6660 else:
   6661     # else, only a single dtype is given
-&gt; 6662     new_data = self._mgr.astype(dtype=dtype, copy=copy, errors=errors)
   6663     res = self._constructor_from_mgr(new_data, axes=new_data.axes)
   6664     return res.__finalize__(self, method="astype")

[... a lot more lines of traceback ...]

File ~/miniforge3/envs/carpentries/lib/python3.11/site-packages/pandas/core/dtypes/astype.py:133, in _astype_nansafe(arr, dtype, copy, skipna)
    129     raise ValueError(msg)
    131 if copy or arr.dtype == object or dtype == object:
    132     # Explicit copy, or required since NumPy can't view from / to object.
--&gt; 133     return arr.astype(dtype, copy=True)
    135 return arr.astype(dtype, copy=copy)

ValueError: invalid literal for int() with base 10: 'NL'</code></pre>
</div>
<div id="changing-types" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<span class="callout-header">Challenge</span>
<div id="changing-types" class="callout-inner">
<h3 class="callout-title">Changing Types</h3>
<div class="callout-content">
<ol style="list-style-type: decimal"><li>Convert the values in the column <code>plot_id</code> back to
integers.</li>
<li>Now try converting <code>weight</code> to an integer. What goes
wrong here? What is pandas telling you? We will talk about some
solutions to this later.</li>
</ol></div>
</div>
</div>
<div id="accordionSolution3" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution3" aria-expanded="false" aria-controls="collapseSolution3">
  <h4 class="accordion-header" id="headingSolution3"> Show me the solution </h4>
</button>
<div id="collapseSolution3" class="accordion-collapse collapse" data-bs-parent="#accordionSolution3" aria-labelledby="headingSolution3">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb58">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb58-1"><a href="#cb58-1" tabindex="-1"></a>samples[<span class="st">'plot_id'</span>].astype(<span class="st">'int'</span>)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>record_id
1         2
2         3
3         2
4         7
5         3
         ..
16874    16
16875     5
16876     4
16877    11
16878     8
Name: plot_id, Length: 16878, dtype: int64</code></pre>
</div>
<div class="codewrapper sourceCode" id="cb60">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb60-1"><a href="#cb60-1" tabindex="-1"></a>surveys_df[<span class="st">'weight'</span>].astype(<span class="st">'int'</span>)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">ERROR<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="error" tabindex="0"><code>pandas.errors.IntCastingNaNError: Cannot convert non-finite values (NA or inf) to integer</code></pre>
</div>
<p>Pandas cannot convert types from float to int if the column contains
missing values.</p>
</div>
</div>
</div>
</div>
</div>
<div class="section level3">
<h3 id="missing-data">Missing Data<a class="anchor" aria-label="anchor" href="#missing-data"></a></h3>
<p>In addition to data entry errors, it is common to encounter missing
values in large volumns of data. A value may be missing because it was
not possible to make a complete observation, because data was lost, or
for any number of other reasons. It is important to consider missing
values while processing data because they can influence downstream
analysis – that is, data analysis that will be done later – in unwanted
ways when not handled correctly.</p>
<p>Depending on the <code>dtype</code> of the column/series, missing
values may appear as <code>NaN</code> (<em>“Not a Number”</em>),
<code>NA</code>, <code>&lt;NA&gt;</code>, or <code>NaT</code> (<em>“Not
a Time”</em>). You may have noticed some during our initial exploration
of the dataframe. (Note the <code>NaN</code> values in the first five
rows of the <code>weight</code> column below.)</p>
<div class="codewrapper sourceCode" id="cb62">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb62-1"><a href="#cb62-1" tabindex="-1"></a>samples.head()</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>           month  day  year  plot_id  species_id  sex  hindfoot_length  weight      genus   species    taxa                 plot_type
record_id 												
1              7   16  1977        2          NL    M             32.0     NaN    Neotoma  albigula  Rodent                   Control
2              7   16  1977        3          NL    M             33.0     NaN    Neotoma  albigula  Rodent  Long-term Krat Exclosure
3              7   16  1977        2          DM    F             37.0     NaN  Dipodomys  merriami  Rodent                   Control
4              7   16  1977        7          DM    M             36.0     NaN  Dipodomys  merriami  Rodent          Rodent Exclosure
5              7   16  1977        3          DM    M             35.0     NaN  Dipodomys  merriami  Rodent  Long-term Krat Exclosure</code></pre>
</div>
<p>The output of the <code>info</code> method includes a count of the
<em>non-null</em> values – that is, the values that are <em>not</em>
missing – for each column:</p>
<div class="codewrapper sourceCode" id="cb64">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb64-1"><a href="#cb64-1" tabindex="-1"></a>samples.info()</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>&lt;class 'pandas.core.frame.DataFrame'&gt;
Index: 16878 entries, 1 to 16878
Data columns (total 12 columns):
 #   Column           Non-Null Count  Dtype
---  ------           --------------  -----
 0   month            16878 non-null  int64
 1   day              16878 non-null  int64
 2   year             16878 non-null  int64
 3   plot_id          16878 non-null  int64
 4   species_id       16521 non-null  object
 5   sex              15578 non-null  object
 6   hindfoot_length  14145 non-null  float64
 7   weight           15186 non-null  float64
 8   genus            16521 non-null  object
 9   species          16521 non-null  object
 10  taxa             16521 non-null  object
 11  plot_type        16878 non-null  object
dtypes: float64(2), int64(4), object(6)
memory usage: 1.7+ MB</code></pre>
</div>
<p>From this output we can tell that almost 1700 weight measurements and
more than 2700 hindfoot length measurements are missing. Many of the
other columns also have missing values.</p>
<p>The ouput above demonstrates that pandas can distinguish these
<code>NaN</code> values from the actual data and indeed they will be
ignored for some tasks, such as calculation of the summary statistics
provided by <code>describe</code>.</p>
<div class="codewrapper sourceCode" id="cb66">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb66-1"><a href="#cb66-1" tabindex="-1"></a>samples.describe()</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>              month           day 	       year       plot_id  hindfoot_length 	      weight
count  16878.000000  16878.000000  16878.000000  16878.000000     14145.000000  15186.000000
mean       6.382214     15.595805   1983.582119     11.471442        31.982114     53.216647
std        3.411215      8.428180      3.492428      6.865875        10.709841     44.265878
min        1.000000      1.000000   1977.000000      1.000000         6.000000      4.000000
25%        3.000000      9.000000   1981.000000      5.000000        21.000000     24.000000
50%        6.000000     15.000000   1983.000000     11.000000        35.000000     42.000000
75%        9.000000     23.000000   1987.000000     17.000000        37.000000     53.000000
max       12.000000     31.000000   1989.000000     24.000000        70.000000    278.000000</code></pre>
</div>
<p>In some circumstances, like the recasting we attempted in the
previous exercise, the missing values can cause trouble. It is up to us
to decide how best to handle those missing values. We could remove the
rows containing missing data, accepting the loss of all data for that
observation:</p>
<div class="codewrapper sourceCode" id="cb68">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb68-1"><a href="#cb68-1" tabindex="-1"></a>samples.dropna().head()</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>           month  day  year  plot_id species_id sex  hindfoot_length  weight      genus   species    taxa                 plot_type
record_id
63             8   19  1977        3         DM   M             35.0    40.0  Dipodomys  merriami  Rodent  Long-term Krat Exclosure
64             8   19  1977        7         DM   M             37.0    48.0  Dipodomys  merriami  Rodent          Rodent Exclosure
65             8   19  1977        4         DM   F             34.0    29.0  Dipodomys  merriami  Rodent                   Control
66             8   19  1977        4         DM   F             35.0    46.0  Dipodomys  merriami  Rodent                   Control
67             8   19  1977        7         DM   M             35.0    36.0  Dipodomys  merriami  Rodent          Rodent Exclosure</code></pre>
</div>
<p>But we should take note that this removes more than 3000 rows from
the dataframe!</p>
<div class="codewrapper sourceCode" id="cb70">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb70-1"><a href="#cb70-1" tabindex="-1"></a><span class="bu">len</span>(samples)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="fl">16878</span></span></code></pre>
</div>
<div class="codewrapper sourceCode" id="cb72">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb72-1"><a href="#cb72-1" tabindex="-1"></a><span class="bu">len</span>(samples.dropna())</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="fl">13773</span></span></code></pre>
</div>
<p>Instead, we could <em>fill</em> all of the missing values with
something else. For example, let’s make a copy of the
<code>samples</code> dataframe then populate the missing values in the
<code>weight</code> column of that copy with the mean of all the
non-missing weights. There are a few parts to that operation, which are
tackled one at a time below.</p>
<div class="codewrapper sourceCode" id="cb74">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb74-1"><a href="#cb74-1" tabindex="-1"></a>mean_weight <span class="op">=</span> samples[<span class="st">'weight'</span>].mean() <span class="co"># the 'mean' method calculates the mean of the non-null values in the column</span></span>
<span id="cb74-2"><a href="#cb74-2" tabindex="-1"></a>df1 <span class="op">=</span> samples.copy() <span class="co"># making a copy to work with so that we do not edit our original data</span></span>
<span id="cb74-3"><a href="#cb74-3" tabindex="-1"></a>df1[<span class="st">'weight'</span>] <span class="op">=</span> df1[<span class="st">'weight'</span>].fillna(mean_weight) <span class="co"># the 'fillna' method fills all missing values with the provided value</span></span>
<span id="cb74-4"><a href="#cb74-4" tabindex="-1"></a>df1.head()</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>           month  day  year  plot_id species_id sex  hindfoot_length     weight      genus   species    taxa                 plot_type
record_id
1              7   16  1977        2         NL   M             32.0  53.216647    Neotoma  albigula  Rodent                   Control
2              7   16  1977        3         NL   M             33.0  53.216647    Neotoma  albigula  Rodent  Long-term Krat Exclosure
3              7   16  1977        2         DM   F             37.0  53.216647  Dipodomys  merriami  Rodent                   Control
4              7   16  1977        7         DM   M             36.0  53.216647  Dipodomys  merriami  Rodent          Rodent Exclosure
5              7   16  1977        3         DM   M             35.0  53.216647  Dipodomys  merriami  Rodent  Long-term Krat Exclosure</code></pre>
</div>
<p>The choice to fill in these missing values rather than removing the
rows that contain them can have implications for the result of your
analysis. It is important to consider your approach carefully. Think
about how the data will be used and how these values will impact the
scientific conclusions made from the analysis. pandas gives us all of
the tools that we need to account for these issues. But we need to be
cautious about how the decisions that we make impact scientific
results.</p>
</div>
</section><section><h2 class="section-heading" id="assignment-evaluation-and-mutability">Assignment, evaluation, and mutability<a class="anchor" aria-label="anchor" href="#assignment-evaluation-and-mutability"></a></h2>
<hr class="half-width"><p>Stepping away from dataframes for a moment, the time has come to
explore the behaviour of Python a little more.</p>
<div id="exercise-variable-assignments" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<span class="callout-header">Challenge</span>
<div id="exercise-variable-assignments" class="callout-inner">
<h3 class="callout-title">Exercise: variable assignments</h3>
<div class="callout-content">
<p>What is the value of <code>y</code> after running the following
lines?</p>
<div class="codewrapper sourceCode" id="cb76">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb76-1"><a href="#cb76-1" tabindex="-1"></a>x <span class="op">=</span> <span class="dv">2</span></span>
<span id="cb76-2"><a href="#cb76-2" tabindex="-1"></a>y <span class="op">=</span> x<span class="op">*</span><span class="dv">3</span></span>
<span id="cb76-3"><a href="#cb76-3" tabindex="-1"></a>x <span class="op">=</span> <span class="dv">10</span></span></code></pre>
</div>
</div>
</div>
</div>
<div id="accordionSolution4" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution4" aria-expanded="false" aria-controls="collapseSolution4">
  <h4 class="accordion-header" id="headingSolution4"> Show me the solution </h4>
</button>
<div id="collapseSolution4" class="accordion-collapse collapse" data-bs-parent="#accordionSolution4" aria-labelledby="headingSolution4">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb77">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb77-1"><a href="#cb77-1" tabindex="-1"></a>x <span class="op">=</span> <span class="dv">2</span></span>
<span id="cb77-2"><a href="#cb77-2" tabindex="-1"></a>y <span class="op">=</span> x<span class="op">*</span><span class="dv">3</span></span>
<span id="cb77-3"><a href="#cb77-3" tabindex="-1"></a>x <span class="op">=</span> <span class="dv">10</span></span>
<span id="cb77-4"><a href="#cb77-4" tabindex="-1"></a>y</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="fl">6</span></span></code></pre>
</div>
</div>
</div>
</div>
</div>
<p>Understanding what’s going on here will help you avoid a lot of
confusion when working in Python. When we assign something to a
variable, the first thing that happens is the righthand side gets
<em>evaluated</em>. So when we first ran the line <code>y = x*3</code>,
<code>x*3</code> first gets evaluated to the value of 6, and this gets
assigned to <code>y</code>. The variables <code>x</code> and
<code>y</code> are independent objects, so when we change the value of
<code>x</code> to 10, <code>y</code> is unaffected. This behaviour may
be different to what you are used to, e.g. from experience working with
data in spreadsheets where cells can be linked such that modifying the
value in one cell triggers changes in others.</p>
<p>Multiple evaluations can take place in a single line of Python code
and learning to trace the order and impact of these evaluations is a key
skill.</p>
<div class="codewrapper sourceCode" id="cb79">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb79-1"><a href="#cb79-1" tabindex="-1"></a>x <span class="op">=</span> <span class="dv">10</span></span>
<span id="cb79-2"><a href="#cb79-2" tabindex="-1"></a>y <span class="op">=</span> <span class="dv">5</span></span>
<span id="cb79-3"><a href="#cb79-3" tabindex="-1"></a>z <span class="op">=</span> <span class="dv">3</span><span class="op">-</span>(x<span class="op">/</span>y)</span>
<span id="cb79-4"><a href="#cb79-4" tabindex="-1"></a>z</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="fl">1.0</span></span></code></pre>
</div>
<p>In the example above, <code>x/y</code> is evaluated first before the
result is subtracted from 3 and the final calculated value is assigned
to <code>z</code>. (The brackets <code>()</code> are not needed in the
calculation above but are included to make the order of evaluation
clearer.) Python makes each evaluation as it needs to in order to
proceed with the next, before assigning the final result to the variable
on the lefthand side of the <code>=</code> operator.</p>
<p>This means that we could have filled the missing values in the weight
column of our dataframe copy in a single line:</p>
<div class="codewrapper sourceCode" id="cb81">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb81-1"><a href="#cb81-1" tabindex="-1"></a>df1[<span class="st">'weight'</span>] <span class="op">=</span> df1[<span class="st">'weight'</span>].fillna(df1[<span class="st">'weight'</span>].mean())</span></code></pre>
</div>
<p>First, the mean weight is calculated
(<code>df1['weight'].mean()</code> is evaluated). Then the result of
that evaluation is passed into <code>fillna</code> and the result of the
filling operation
(<code>df1['weight'].fillna(&lt;RESULT OF PREVIOUS&gt;)</code>) is
assigned to <code>df1['weight']</code>.</p>
<div class="section level4">
<h4 id="variable-naming">Variable naming<a class="anchor" aria-label="anchor" href="#variable-naming"></a></h4>
<p>You are going to name a lot of variables in Python! There are some
rules you have to stick to when doing so, as well as recommendations
that will make your life easier.</p>
<ul><li>Make names clear without being too long
<ul><li>
<code>wkg</code> is probably too short.</li>
<li>
<code>weight_in_kilograms</code> is probably too long.</li>
<li>
<code>weight_kg</code> is good.</li>
</ul></li>
<li>Names cannot begin with a number.</li>
<li>Names cannot contain spaces; use underscores instead.</li>
<li>Names are case sensitive: <code>weight_kg</code> is a different name
from <code>Weight_kg</code>. Avoid uppercase characters at the beginning
of variable names.</li>
<li>Names cannot contain most non-letter characters:
<code>+&amp;-/*.</code> etc.</li>
<li>Two common formats of variable name are <code>snake_case</code> and
<code>camelCase</code>. A third “case” of naming convention,
<code>kebab-case</code>, is not allowed in Python (see the rule
above).</li>
<li>Aim to be consistent in how you name things within your projects. It
is easier to follow an established style guide, such as <a href="https://google.github.io/styleguide/pyguide.html" class="external-link">Google’s</a>,
than to come up with your own.</li>
</ul><div id="exercise-good-variable-names" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<span class="callout-header">Challenge</span>
<div id="exercise-good-variable-names" class="callout-inner">
<h3 class="callout-title">Exercise; good variable names</h3>
<div class="callout-content">
<p>Identify at least one good variable name and at least one variable
name that could be improved in this episode. Refer to the rules and
recommendations listed above to suggest how these variable names could
be better.</p>
</div>
</div>
</div>
<div id="accordionSolution5" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution5" aria-expanded="false" aria-controls="collapseSolution5">
  <h4 class="accordion-header" id="headingSolution5"> Show me the solution </h4>
</button>
<div id="collapseSolution5" class="accordion-collapse collapse" data-bs-parent="#accordionSolution5" aria-labelledby="headingSolution5">
<div class="accordion-body">
<p><code>mean_weight</code> and <code>surveys_df</code> are examples of
reasonably good variable names: they are relatively short yet
descriptive.</p>
<p><code>df2</code> is not descriptive enough and could be potentially
confusing if encountered by somebody else/ourselves in a few weeks’
time. The name could be improved by making it more descriptive,
e.g. <code>surveys_df_duplicate</code>.</p>
</div>
</div>
</div>
</div>
</div>
<div class="section level4">
<h4 id="mutability">Mutability<a class="anchor" aria-label="anchor" href="#mutability"></a></h4>
<p>Why did we need to use the <code>copy</code> method to duplicate the
dataframe above if variables are not linked to each other? Why not
assign a new variable with the value of the existing dataframe
object?</p>
<div class="codewrapper sourceCode" id="cb82">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb82-1"><a href="#cb82-1" tabindex="-1"></a>df2 <span class="op">=</span> samples</span></code></pre>
</div>
<p>This gets to <em>mutablity</em>: a feature of Python that has caused
headaches for many novices in the past! In the interests of memory
management, Python avoids making copies of objects unless it has to.
Some types of objects are <em>immutable</em>, meaning that their value
cannot be modified once set. Immutable object types we have already
encountered include strings, integers, and floats. If we want to adjust
the value of an integer variable, we must explicitly overwrite it.</p>
<p>Other types of object are <em>mutable</em>, meaning that their value
can be changed “in-place” without needing to be explictly overwritten.
This includes lists <strong>and pandas <code>DataFrame</code>
objects</strong>, which can be reordered etc. after they are
created.</p>
<p>When a new variable is assigned the value of an existing
<strong>immutable</strong> object, Python duplicates the value and
assigns it to the new variable.</p>
<pre><code><span><span class="va">a</span> <span class="op">=</span> <span class="fl">3.5</span> <span class="co"># new float object, called "a"</span></span>
<span><span class="va">b</span> <span class="op">=</span> <span class="va">a</span>   <span class="co"># another new float object, called "b", which also has the value 3.5</span></span></code></pre>
<p>When a new variable is assigned the value of an existing
<strong>mutable</strong> object, Python makes a new “pointer” towards
the value of the existing object instead of duplicating it.</p>
<pre><code>some_species = ['NL', 'DM', 'PF', 'PE', 'DS'] # new list object, called "some_species"
some_more_species = some_species # another name for the same list object</code></pre>
<p>This can have unintended consequences and lead to much confusion!</p>
<pre><code><span><span class="va">some_more_species</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span> <span class="op">=</span> <span class="st">'CV'</span></span>
<span><span class="va">some_species</span></span></code></pre>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>['NL', 'DM', 'CV', 'PE', 'DS']</code></pre>
</div>
<p>As you can see here, the “PV” value was replaced by “CV” in both
lists, even if we didn’t intend to make the change in the
<code>some_species</code> list.</p>
<p>This takes practice and time to get used to. The key thing to
remember is that <strong>you should use the <code>copy</code> method to
make a copy of your dataframes</strong> to avoid accidentally modifying
the data in the original.</p>
<div class="codewrapper sourceCode" id="cb87">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb87-1"><a href="#cb87-1" tabindex="-1"></a>df2 <span class="op">=</span> samples.copy()</span></code></pre>
</div>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<span class="callout-header">Key Points</span>
<div class="callout-inner">
<div class="callout-content">
<ul><li>pandas DataFrames carry many methods that can help you explore the
properties and distribution of data.</li>
<li>Using the <code>help</code> function, reading error messages, and
asking for help are all good strategies when things go wrong.</li>
<li>The type of an object determines what kinds of operations you can
perform on and with it.</li>
<li>Python evaluates expressions in a line one by one before assigning
the final result to a variable.</li>
</ul></div>
</div>
</div>
</div>
</section></div> <!-- / div.lesson-content -->
    </main><!-- / main#main-content.main-content --><nav class="bottom-pagination mx-md-4" aria-label="Previous and Next Chapter"><div class="d-block d-sm-block d-md-none">
        <a class="chapter-link" href="../instructor/n002-visualizing-matplotlib.html"><i aria-hidden="true" class="small-arrow" data-feather="arrow-left"></i>Previous</a>
        <a class="chapter-link float-end" href="../instructor/00-before-we-start.html">Next<i aria-hidden="true" class="small-arrow" data-feather="arrow-right"></i></a>
      </div>
      <!-- content for large screens -->
      <div class="d-none d-sm-none d-md-block">
        <a class="chapter-link" href="../instructor/n002-visualizing-matplotlib.html" rel="prev">
          <i aria-hidden="true" class="small-arrow" data-feather="arrow-left"></i>
          Previous: Data visualization
        </a>
        <a class="chapter-link float-end" href="../instructor/00-before-we-start.html" rel="next">
          Next: Before we start...
          <i aria-hidden="true" class="small-arrow" data-feather="arrow-right"></i>
        </a>
      </div>
    </nav></div> <!-- / div.primary-content.col-xs-12 -->
<!-- END:   inst/pkgdown/templates/content-instructor.html-->

      </div><!--/div.row-->
      		<footer class="row footer mx-md-3"><hr><div class="col-md-6">
        <p>This lesson is subject to the <a href="CODE_OF_CONDUCT.html">Code of Conduct</a></p>
        <p>

        <a href="https://github.com/datacarpentry/python-ecology-lesson/edit/main/episodes/n003-data-structures.md" class="external-link">Edit on GitHub</a>

	
        | <a href="https://github.com/datacarpentry/python-ecology-lesson/blob/main/CONTRIBUTING.md" class="external-link">Contributing</a>
        | <a href="https://github.com/datacarpentry/python-ecology-lesson/" class="external-link">Source</a></p>
				<p><a href="https://github.com/datacarpentry/python-ecology-lesson/blob/main/CITATION" class="external-link">Cite</a> | <a href="mailto:team@carpentries.org">Contact</a> | <a href="https://carpentries.org/about/" class="external-link">About</a></p>
			</div>
			<div class="col-md-6">

        <p>Materials licensed under <a href="LICENSE.html">CC-BY 4.0</a> by the authors</p>

        <p>Template licensed under <a href="https://creativecommons.org/licenses/by-sa/4.0/" class="external-link">CC-BY 4.0</a> by <a href="https://carpentries.org/" class="external-link">The Carpentries</a></p>
        <p>Built with <a href="https://github.com/carpentries/sandpaper/tree/0.17.1" class="external-link">sandpaper (0.17.1)</a>, <a href="https://github.com/carpentries/pegboard/tree/0.7.9" class="external-link">pegboard (0.7.9)</a>, and <a href="https://github.com/carpentries/varnish/tree/1.0.7" class="external-link">varnish (1.0.7)</a></p>
			</div>
		</footer></div> <!-- / div.container -->
	<div id="to-top">
		<a href="#top">
      <i class="search-icon" data-feather="arrow-up" role="img" aria-label="Back To Top"></i><br><!-- <span class="d-none d-sm-none d-md-none d-lg-none d-xl-block">Back</span> To Top --><span class="d-none d-sm-none d-md-none d-lg-none d-xl-block">Back</span> To Top
		</a>
	</div>
  <script type="application/ld+json">
    {
  "@context": "https://schema.org",
  "@type": "LearningResource",
  "@id": "https://datacarpentry.github.io/python-ecology-lesson/instructor/n003-data-structures.html",
  "inLanguage": "en",
  "dct:conformsTo": "https://bioschemas.org/profiles/LearningResource/1.0-RELEASE",
  "description": "A Carpentries Lesson teaching foundational data and coding skills to researchers worldwide",
  "keywords": "software, data, lesson, The Carpentries",
  "name": "Exploring and understanding data",
  "creativeWorkStatus": "active",
  "url": "https://datacarpentry.github.io/python-ecology-lesson/instructor/n003-data-structures.html",
  "identifier": "https://datacarpentry.github.io/python-ecology-lesson/instructor/n003-data-structures.html",
  "dateCreated": "2015-03-19",
  "dateModified": "2025-10-27",
  "datePublished": "2025-10-27"
}

  </script><script>
		feather.replace();
	</script><!-- Matomo --><script>
          var _paq = window._paq = window._paq || [];
          /* tracker methods like "setCustomDimension" should be called before "trackPageView" */
          _paq.push(["setDocumentTitle", document.domain + "/" + document.title]);
          _paq.push(["setDomains", ["*.lessons.carpentries.org","*.datacarpentry.github.io","*.datacarpentry.org","*.librarycarpentry.github.io","*.librarycarpentry.org","*.swcarpentry.github.io", "*.carpentries.github.io"]]);
          _paq.push(["setDoNotTrack", true]);
          _paq.push(["disableCookies"]);
          _paq.push(["trackPageView"]);
          _paq.push(["enableLinkTracking"]);
          (function() {
              var u="https://matomo.carpentries.org/";
              _paq.push(["setTrackerUrl", u+"matomo.php"]);
              _paq.push(["setSiteId", "1"]);
              var d=document, g=d.createElement("script"), s=d.getElementsByTagName("script")[0];
              g.async=true; g.src="https://matomo.carpentries.org/matomo.js"; s.parentNode.insertBefore(g,s);
          })();
        </script><!-- End Matomo Code --></body></html><!-- END:   inst/pkgdown/templates/layout.html-->

